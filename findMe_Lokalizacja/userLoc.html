<!DOCTYPE html>
<html>
  <head>
    <title>Find ME</title>
  </head>
  <body>
    <p id="info"></p>
    
      <button onclick="getLocation()">click me</button>
      <script>
        let x = document.getElementById("info");
        const KEY = "jeszcze nw w jaki sposob bd chcial ukryc klucz do api wiec go nie podaje ;/"
        // sprawdzam dlugosc i szerokosc geograficzna, a nastepnie wrzucam je google maps api
        function showPosition(position) {
          const LAT = position.coords.latitude;
          const LNG = position.coords.longitude;
          let url = `https://maps.googleapis.com/maps/api/geocode/json?latlng=${LAT},${LNG}&key=${KEY}`;
          console.log(LAT, LNG)
          fetch(url)
          .then(response => response.json() )
          .then(data => {
            // console.log(data);
            let location = data.results[4].formatted_address;
            x.innerHTML = location;
            console.log(location);
          })
          .catch(err => console.warn("cos sie buntuje"))
          
        }

        function getLocation(){
          if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition);
          } else { 
            console.log("Geolocation is not supported by this browser.");
          }
        }
        
      </script>
  </body>
</html>