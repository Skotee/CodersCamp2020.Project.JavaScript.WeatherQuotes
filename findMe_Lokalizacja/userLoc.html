<!DOCTYPE html>
<html>
  <head>
    <title>Find ME</title>
  </head>
  <body>
    <p id="info"></p>
    
      <button onclick="getLocation()">click me</button>
      <script>
        const obiekt = {location: {lat: 0, lng: 0}, formatted_address: ""}
        let x = document.getElementById("info");
        const KEY = "AIzaSyDa0u3whaCnVq2gRbqCOx7SVGSOOwKQTgI"
        // sprawdzam dlugosc i szerokosc geograficzna, a nastepnie wrzucam je google maps api
        function showPosition(position) {
          const LAT = position.coords.latitude;
          const LNG = position.coords.longitude;
          let url = `https://maps.googleapis.com/maps/api/geocode/json?latlng=${LAT},${LNG}&key=${KEY}`;
          
          
          fetch(url)
          .then(response => response.json() )
          .then(data => {
            // console.log(data);
            let location = data.results[3].formatted_address;
            Object.assign(obiekt, {location: data.results[3].geometry.location, formatted_address: data.results[3].formatted_address});
            x.innerHTML = location;
            
            
          })
          .catch(err => console.warn("cos sie buntuje"))
          
        }

        async function getLocation(){
          if (navigator.geolocation) {
            
            navigator.geolocation.getCurrentPosition(showPosition);
            
            
          } else { 
            console.log("Geolocation is not supported by this browser.");
          }
          console.log(obiekt);
        }
        
      </script>
  </body>
</html>